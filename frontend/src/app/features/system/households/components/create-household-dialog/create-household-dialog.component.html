<form [formGroup]="createHouseholdForm" (ngSubmit)="onSubmit()">
  <div class="dialog-content">
    <div class="form-field">
      <label for="name">Nazwa gospodarstwa</label>
      <input
        id="name"
        type="text"
        pInputText
        formControlName="name"
        placeholder="np. Dom rodziny Kowalskich"
        [class.ng-invalid]="createHouseholdForm.controls['name'].invalid && createHouseholdForm.controls['name'].touched"
        [class.ng-dirty]="createHouseholdForm.controls['name'].dirty"
      />
      @if (createHouseholdForm.controls['name'].invalid && createHouseholdForm.controls['name'].touched) {
        <small class="p-error">
          @if (createHouseholdForm.controls['name'].errors?.['required']) {
            Nazwa gospodarstwa jest wymagana.
          }
          @if (createHouseholdForm.controls['name'].errors?.['maxlength']) {
            Nazwa nie może przekroczyć 100 znaków.
          }
        </small>
      }
    </div>

    <div class="form-field">
      <label for="address">Adres (opcjonalnie)</label>
      <textarea
        id="address"
        pTextarea
        formControlName="address"
        placeholder="np. ul. Główna 123, Warszawa"
        [rows]="3"
        [class.ng-invalid]="createHouseholdForm.controls['address'].invalid && createHouseholdForm.controls['address'].touched"
        [class.ng-dirty]="createHouseholdForm.controls['address'].dirty"
      ></textarea>
        @if (createHouseholdForm.controls['address'].invalid && createHouseholdForm.controls['address'].touched) {
        <small class="p-error">
          @if (createHouseholdForm.controls['address'].errors?.['maxlength']) {
            Adres nie może przekroczyć 255 znaków.
          }
        </small>
      }
    </div>
  </div>

  <div class="dialog-footer">
    <p-button
      label="Anuluj"
      severity="secondary"
      (onClick)="closeDialog()"
      [disabled]="isLoading()"
    />
    <p-button
      label="Utwórz gospodarstwo"
      type="submit"
      [loading]="isLoading()"
      [disabled]="createHouseholdForm.invalid || isLoading()"
    />
  </div>
</form>
