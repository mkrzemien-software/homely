<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form" (keypress)="onKeyPress($event)">
  <!-- Error Message Display -->
  @if (errorMessage()) {
    <p-message
      data-testid="login-error"
      severity="error"
      [text]="errorMessage()!"
      styleClass="login-form__error-message"
      (onClose)="clearError()">
    </p-message>
  }

  <!-- Email Field -->
  <div class="login-form__field">
    <label for="email" class="login-form__label">
      Email Address
    </label>

    <input
      pInputText
      id="email"
      data-testid="login-email"
      formControlName="email"
      placeholder="Enter your email"
      [class.ng-invalid]="hasError('email')"
      [class.ng-dirty]="loginForm.get('email')?.dirty"
      class="login-form__input"
      aria-required="true"
      aria-describedby="email-error"
    />

    @if (hasError('email')) {
      <small id="email-error" class="login-form__error-text">
        {{ getErrorMessage('email') }}
      </small>
    }
  </div>

  <!-- Password Field -->
  <div class="login-form__field">
    <label for="password" class="login-form__label">
      Password
    </label>

    <input
      pInputText
      id="password"
      data-testid="login-password"
      type="password"
      formControlName="password"
      placeholder="Enter your password"
      [class.ng-invalid]="hasError('password')"
      [class.ng-dirty]="loginForm.get('password')?.dirty"
      class="login-form__input"
      aria-required="true"
      aria-describedby="password-error"
    />

    @if (hasError('password')) {
      <small id="password-error" class="login-form__error-text">
        {{ getErrorMessage('password') }}
      </small>
    }
  </div>

  <!-- Remember Me Checkbox -->
  <!-- <div class="login-form__field login-form__field--checkbox">
    <p-checkbox
      formControlName="rememberMe"
      [binary]="true"
      inputId="rememberMe"
      label="Remember me"
      styleClass="login-form__checkbox">
    </p-checkbox>
  </div> -->

  <!-- Submit Button -->
  <div class="login-form__actions">
    <p-button
      type="submit"
      data-testid="login-submit"
      label="Sign In"
      [loading]="isLoading()"
      [disabled]="isLoading()"
      severity="primary">
    </p-button>
  </div>

  <!-- Demo Login Button -->
  <div class="login-form__demo">
    <p-button
      type="button"
      data-testid="demo-login"
      label="Demo Login"
      [loading]="isLoading()"
      [disabled]="isLoading()"
      severity="secondary"
      [outlined]="true"
      styleClass="demo-login-btn"
      (onClick)="loginWithDemo()">
    </p-button>
  </div>
</form>
