// ============================================
// HOMELY - THEME SYSTEM
// CSS Custom Properties for dynamic theming
// ============================================

@use 'sass:color';
@use './variables' as *;

// Light Theme (Default)
:root, [data-theme='light'] {
  // Brand Colors
  --color-primary: #{$homely-primary};
  --color-primary-rgb: 99, 102, 241;
  --color-secondary: #{$homely-secondary};
  --color-secondary-rgb: 139, 92, 246;

  // Semantic Colors
  --color-success: #{$homely-success};
  --color-warning: #{$homely-warning};
  --color-danger: #{$homely-danger};
  --color-info: #{$homely-info};

  // Background Colors
  --bg-primary: #{$light-bg-primary};
  --bg-secondary: #{$light-bg-secondary};
  --bg-tertiary: #{$light-bg-tertiary};
  --surface: #{$light-surface};
  --surface-hover: #{$light-surface-hover};

  // Surface Levels
  --surface-50: #{$light-surface-50};
  --surface-100: #{$light-surface-100};
  --surface-card: #{$light-surface-card};
  --surface-border: #{$light-surface-border};
  --surface-ground: #{$light-surface-ground};
  --surface-section: #{$light-surface-section};

  // Text Colors
  --text-primary: #{$light-text-primary};
  --text-secondary: #{$light-text-secondary};
  --text-tertiary: #{$light-text-tertiary};
  --text-disabled: #{$light-text-disabled};
  --text-on-primary: #ffffff;

  // Border Colors
  --border-color: #{$light-border};
  --border-hover: #{$light-border-hover};

  // Compatibility Aliases
  --primary-color: #{$homely-primary};
  --primary-color-text: #ffffff;
  --text-color: #{$light-text-primary};
  --text-color-secondary: #{$light-text-secondary};

  // Category Colors
  --category-technical: #{$category-technical};
  --category-waste: #{$category-waste};
  --category-medical: #{$category-medical};

  // Priority Colors
  --priority-low: #{$priority-low};
  --priority-medium: #{$priority-medium};
  --priority-high: #{$priority-high};

  // Status Colors
  --status-pending: #{$status-pending};
  --status-completed: #{$status-completed};
  --status-overdue: #{$status-overdue};
  --status-cancelled: #{$status-cancelled};

  // Spacing
  --spacing-xs: #{$spacing-xs};
  --spacing-sm: #{$spacing-sm};
  --spacing-md: #{$spacing-md};
  --spacing-lg: #{$spacing-lg};
  --spacing-xl: #{$spacing-xl};
  --spacing-2xl: #{$spacing-2xl};
  --spacing-3xl: #{$spacing-3xl};

  // Border Radius
  --radius-sm: #{$radius-sm};
  --radius-md: #{$radius-md};
  --radius-lg: #{$radius-lg};
  --radius-xl: #{$radius-xl};
  --radius-full: #{$radius-full};

  // Shadows
  --shadow-sm: #{$shadow-sm};
  --shadow-md: #{$shadow-md};
  --shadow-lg: #{$shadow-lg};
  --shadow-xl: #{$shadow-xl};

  // Typography
  --font-family: #{$font-family-base};
  --font-family-mono: #{$font-family-mono};

  --font-size-xs: #{$font-size-xs};
  --font-size-sm: #{$font-size-sm};
  --font-size-base: #{$font-size-base};
  --font-size-lg: #{$font-size-lg};
  --font-size-xl: #{$font-size-xl};
  --font-size-2xl: #{$font-size-2xl};
  --font-size-3xl: #{$font-size-3xl};
  --font-size-4xl: #{$font-size-4xl};

  --font-weight-normal: #{$font-weight-normal};
  --font-weight-medium: #{$font-weight-medium};
  --font-weight-semibold: #{$font-weight-semibold};
  --font-weight-bold: #{$font-weight-bold};

  --line-height-tight: #{$line-height-tight};
  --line-height-normal: #{$line-height-normal};
  --line-height-relaxed: #{$line-height-relaxed};

  // Transitions
  --transition-fast: #{$transition-fast};
  --transition-normal: #{$transition-normal};
  --transition-slow: #{$transition-slow};

  // PrimeNG Button Variables
  --p-button-padding-x: 10px;
  --p-button-padding-y: 10px;
  --p-button-gap: 10px;

  --p-button-primary-background: #{$homely-primary};
  --p-button-primary-border-color: #{$homely-primary};
  --p-button-primary-color: #ffffff;
  --p-button-primary-hover-background: #{color.adjust($homely-primary, $lightness: -5%)};
  --p-button-primary-hover-border-color: #{color.adjust($homely-primary, $lightness: -5%)};
  --p-button-primary-hover-color: #ffffff;

  --p-button-secondary-background: #{$homely-secondary};
  --p-button-secondary-border-color: #{$homely-secondary};
  --p-button-secondary-color: #ffffff;
  --p-button-secondary-hover-background: #{color.adjust($homely-secondary, $lightness: -5%)};
  --p-button-secondary-hover-border-color: #{color.adjust($homely-secondary, $lightness: -5%)};
  --p-button-secondary-hover-color: #ffffff;

  --p-button-outlined-primary-border-color: #{$homely-primary};
  --p-button-outlined-primary-color: #{$homely-primary};
  --p-button-outlined-primary-hover-background: rgba(#{hexToRgb($homely-primary)}, 0.1);
  --p-button-outlined-primary-hover-border-color: #{$homely-primary};
  --p-button-outlined-primary-hover-color: #{$homely-primary};

  --p-button-outlined-secondary-border-color: #{$homely-secondary};
  --p-button-outlined-secondary-color: #{$homely-secondary};
  --p-button-outlined-secondary-hover-background: rgba(#{hexToRgb($homely-secondary)}, 0.1);
  --p-button-outlined-secondary-hover-border-color: #{$homely-secondary};
  --p-button-outlined-secondary-hover-color: #{$homely-secondary};

  --p-button-text-primary-color: #{$homely-primary};
  --p-button-text-primary-hover-background: rgba(#{hexToRgb($homely-primary)}, 0.1);
  --p-button-text-primary-hover-color: #{$homely-primary};

  --p-button-success-background: #{$homely-success};
  --p-button-success-border-color: #{$homely-success};
  --p-button-success-color: #ffffff;

  --p-button-danger-background: #{$homely-danger};
  --p-button-danger-border-color: #{$homely-danger};
  --p-button-danger-color: #ffffff;

  --p-button-warning-background: #{$homely-warning};
  --p-button-warning-border-color: #{$homely-warning};
  --p-button-warning-color: #ffffff;

  --p-button-info-background: #{$homely-info};
  --p-button-info-border-color: #{$homely-info};
  --p-button-info-color: #ffffff;

  // PrimeNG Form Field Variables
  --p-form-field-padding-x: 0.75rem;
  --p-form-field-padding-y: 0.5rem;
  --p-form-field-border-radius: 6px;
  --p-form-field-border-color: var(--border-color);
  --p-form-field-background: var(--surface);
  --p-form-field-color: var(--text-primary);
  --p-form-field-focus-border-color: var(--color-primary);
  --p-form-field-hover-border-color: var(--border-hover);
  --p-form-field-placeholder-color: var(--text-tertiary);
  --p-form-field-disabled-background: var(--bg-tertiary);
  --p-form-field-disabled-color: var(--text-disabled);

  // PrimeNG IconField Variables
  --p-iconfield-icon-color: var(--text-tertiary);
  --p-iconfield-icon-hover-color: var(--text-secondary);

  // PrimeNG Icon Variables
  --p-icon-size: 1rem;

  // PrimeNG Select Variables
  --p-select-list-padding: 0.5rem 0;
  --p-select-overlay-background: var(--surface);
  --p-select-overlay-border-color: var(--border-color);
  --p-select-option-padding: 0.5rem 1rem;
  --p-select-option-focus-background: var(--surface-hover);
  --p-select-option-selected-background: #{$homely-primary};
  --p-select-option-selected-color: #ffffff;

  // Theme specific
  --theme-name: 'light';
}

// Dark Theme
[data-theme='dark'] {
  // Background Colors
  --bg-primary: #{$dark-bg-primary};
  --bg-secondary: #{$dark-bg-secondary};
  --bg-tertiary: #{$dark-bg-tertiary};
  --surface: #{$dark-surface};
  --surface-hover: #{$dark-surface-hover};

  // Surface Levels
  --surface-50: #{$dark-surface-50};
  --surface-100: #{$dark-surface-100};
  --surface-card: #{$dark-surface-card};
  --surface-border: #{$dark-surface-border};
  --surface-ground: #{$dark-surface-ground};
  --surface-section: #{$dark-surface-section};

  // Text Colors
  --text-primary: #{$dark-text-primary};
  --text-secondary: #{$dark-text-secondary};
  --text-tertiary: #{$dark-text-tertiary};
  --text-disabled: #{$dark-text-disabled};
  --text-on-primary: #ffffff;

  // Compatibility Aliases
  --primary-color: #{$homely-primary};
  --primary-color-text: #ffffff;
  --text-color: #{$dark-text-primary};
  --text-color-secondary: #{$dark-text-secondary};

  // Border Colors
  --border-color: #{$dark-border};
  --border-hover: #{$dark-border-hover};

  // Shadows (darker for dark theme)
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);

  // Theme specific
  --theme-name: 'dark';
}

// System Preference Support
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    // Background Colors
    --bg-primary: #{$dark-bg-primary};
    --bg-secondary: #{$dark-bg-secondary};
    --bg-tertiary: #{$dark-bg-tertiary};
    --surface: #{$dark-surface};
    --surface-hover: #{$dark-surface-hover};

    // Surface Levels
    --surface-50: #{$dark-surface-50};
    --surface-100: #{$dark-surface-100};
    --surface-card: #{$dark-surface-card};
    --surface-border: #{$dark-surface-border};
    --surface-ground: #{$dark-surface-ground};
    --surface-section: #{$dark-surface-section};

    // Text Colors
    --text-primary: #{$dark-text-primary};
    --text-secondary: #{$dark-text-secondary};
    --text-tertiary: #{$dark-text-tertiary};
    --text-disabled: #{$dark-text-disabled};

    // Compatibility Aliases
    --primary-color: #{$homely-primary};
    --primary-color-text: #ffffff;
    --text-color: #{$dark-text-primary};
    --text-color-secondary: #{$dark-text-secondary};

    // Border Colors
    --border-color: #{$dark-border};
    --border-hover: #{$dark-border-hover};

    // Shadows
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
  }
}

// Smooth theme transitions
* {
  transition: background-color var(--transition-normal),
              border-color var(--transition-normal),
              color var(--transition-normal);
}

// Prevent transition on page load
.no-transitions * {
  transition: none !important;
}
